(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{480:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/application/partner-program",function(){return i(9894)}])},137:function(e,n,i){"use strict";function t(e){return e.replaceAll("\n","").replaceAll("	","").replaceAll("<h3>","").replaceAll("</h3>"," ").replaceAll("<h6>","").replaceAll("</h6>"," ").replaceAll("<br/>"," ").replaceAll("<br>"," ").replaceAll("</li>"," ").replace(/<\/?[a-zA-Z]+>/gi,"")}function r(e){for(var n=window.location.search.substring(1).split("&"),i=0;i<n.length;i++){var t=n[i].split("=");if(decodeURIComponent(t[0])==e)return decodeURIComponent(t[1])}return null}i.d(n,{D:function(){return r},M:function(){return t}})},9894:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return A}});var t=i(5893),r=i(137),l=i(354),o=i(7754),s=i(295),a=i(6979),c=i(4418),d=i(7073),u=i(8911),h=i(6367),p=i(3838),x=i(654),m=i(6177),j=i(8691),v=i(9056),f=i(8129),g=i(9222),_=i(6154),w=i(9008),b=i.n(w),I=i(1163),k=i(7294),y=i(7536),A=function(){var e,n;let i=(0,l.p)(),w=(0,I.useRouter)(),[A,D]=(0,k.useState)(null),[N,z]=(0,k.useState)(null),C=async e=>{let{data:n}=await _.Z.get("https://api.silentclient.net/partner_program/get_application",{headers:{Authorization:"Bearer ".concat(e||(null==A?void 0:A.token))}});z(n.application)};(0,k.useEffect)(()=>{let e="https://auth.silentclient.net/login?redirect_url=".concat(window.location.href),n=async()=>{let n=(0,r.D)("access_token");if(n)try{w.replace({query:{}},void 0,{shallow:!0}),await C(n);let{data:e}=await _.Z.get("https://api.silentclient.net/account",{headers:{Authorization:"Bearer ".concat(n)}});D({token:n,...e.account})}catch(n){window.location.href=e}else window.location.href=e};n()},[]);let{register:P,handleSubmit:E,formState:{errors:T,isSubmitting:q}}=(0,y.cI)(),S=async e=>{try{await _.Z.post("https://api.silentclient.net/partner_program/send_application",e,{headers:{Authorization:"Bearer ".concat(null==A?void 0:A.token)}}),await C()}catch(e){!function(e,n){var i,t;if((null==e?void 0:e.response)&&(null===(i=e.response)||void 0===i?void 0:i.data)&&(null===(t=e.response.data)||void 0===t?void 0:t.errors))for(let i of e.response.data.errors)n({title:"Error!",description:i.message,status:"error",duration:3e3,isClosable:!0});else n({title:"Unknown error!",status:"error",duration:3e3,isClosable:!0})}(e,i)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b(),{children:(0,t.jsx)("title",{children:"Silent Client Partner Program Application"})}),!A&&(0,t.jsx)(o.M,{h:"full",minH:"66vh",children:(0,t.jsx)(s.$,{size:"xl",color:"white"})})||(0,t.jsxs)(a.W,{maxW:"container.md",children:[(0,t.jsx)(c.X,{size:"lg",children:"Partner Program Application"}),(0,t.jsxs)(d.K,{direction:"column",spacing:1,children:[(0,t.jsxs)(d.K,{alignItems:"center",direction:"row",spacing:1,children:[(0,t.jsx)(u.x,{children:"Logged in as"}),(0,t.jsx)(h.E,{borderRadius:"md",src:"https://cache.silentclient.net/avatar/".concat(null==A?void 0:A.original_username,".png"),w:"20px",h:"20px"}),(0,t.jsx)(c.X,{size:"sm",children:null==A?void 0:A.original_username})]}),(0,t.jsxs)(u.x,{children:["Not you?"," ",(0,t.jsx)(p.r,{href:"https://auth.silentclient.net/login?redirect_url=https://support.silentclient.net/application/partner-program&force_login=1",textDecoration:"underline",_hover:{opacity:"0.5",textDecoration:"none"},children:"Logout"})]})]}),null===N&&(0,t.jsx)("form",{onSubmit:E(S),children:(0,t.jsxs)(d.K,{direction:"column",spacing:3,mt:5,children:[(0,t.jsxs)(x.NI,{isInvalid:T.type&&!0,children:[(0,t.jsx)(m.l,{children:"Platform"}),(0,t.jsxs)(j.P,{isDisabled:q,placeholder:"Select your platform",...P("type",{required:!0}),children:[(0,t.jsx)("option",{value:"youtube",children:"YouTube"}),(0,t.jsx)("option",{value:"twitch",children:"Twitch"}),(0,t.jsx)("option",{value:"tiktok",children:"TikTok"})]}),T.type&&(0,t.jsx)(v.J1,{children:"Platform is required."})]}),(0,t.jsxs)(x.NI,{isInvalid:T.channel&&!0,children:[(0,t.jsx)(m.l,{children:"Channel"}),(0,t.jsx)(f.I,{isDisabled:q,placeholder:"Link to your channel",...P("channel",{required:!0})}),T.channel&&(0,t.jsx)(v.J1,{children:"Channel is required."})]}),(0,t.jsxs)(x.NI,{isInvalid:T.most_recent_video&&!0,children:[(0,t.jsx)(m.l,{children:"Most recent video"}),(0,t.jsx)(f.I,{isDisabled:q,placeholder:"Link to your most recent video",...P("most_recent_video",{required:!0})}),T.most_recent_video&&(0,t.jsx)(v.J1,{children:"Most recent video is required."})]}),(0,t.jsx)(c.X,{size:"sm",children:"Contacts"}),(0,t.jsxs)(x.NI,{isInvalid:(null===(e=T.contacts)||void 0===e?void 0:e.discord)&&!0,children:[(0,t.jsx)(m.l,{children:"Discord"}),(0,t.jsx)(f.I,{isDisabled:q,placeholder:"Your Discord username",...P("contacts.discord")})]}),(0,t.jsxs)(x.NI,{isInvalid:(null===(n=T.contacts)||void 0===n?void 0:n.telegram)&&!0,children:[(0,t.jsx)(m.l,{children:"Telegram"}),(0,t.jsx)(f.I,{isDisabled:q,placeholder:"Your Telegram username (without @)",...P("contacts.telegram")})]}),(0,t.jsx)(g.z,{isDisabled:q,type:"submit",children:"Submit"})]})})||(0,t.jsx)(d.K,{direction:"column",spacing:2,mt:5,children:(0,t.jsx)(c.X,{size:"md",children:(null==N?void 0:N.status)==="waiting"?"Your application is under consideration.":(null==N?void 0:N.status)==="ok"?"Your application is accepted!":"Your application has been rejected."})})]})]})}}},function(e){e.O(0,[802,774,888,179],function(){return e(e.s=480)}),_N_E=e.O()}]);